{% extends "base.html" %}

{% block content %}
<div class="middle_screen">
    <form class="signup" id="signup_form" method="post" action="/accounts/signup/">
        {% csrf_token %}
    
        <div class="center spacer">
            <h1>Sign Up</h1>
        </div>

        <div class="center spacer">
            <label for="id_email">E-mail:</label>
            <input type="email" name="email" placeholder="E-mail address" autocomplete="email" required id="id_email">
        </div>
    
        <div class="center spacer">
            <label for="id_username">Username:</label>
            <input type="text" name="username" placeholder="Username" autocomplete="username" minlength="1" maxlength="150" required id="id_username">
        </div>
    
        <div class="center spacer">
            <label for="id_password1">Password:</label>
            <input type="password" name="password1" placeholder="Password" autocomplete="new-password" required id="id_password1">
        </div>
    
        <div class="center spacer">
            <label for="id_password2">Password (again):</label>
            <input type="password" name="password2" placeholder="Password (again)" required id="id_password2">
        </div>
    
        <div class="center spacer">
            <button type="submit">Sign Up &raquo;</button>
        </div>

    </form>

    <div class="center spacer">
        <a href="/accounts/login/">
            <button>Back</button>
        </a>
    </div>
</div>

<script>
    let msg = "";
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                msg = msg + "{{ error|escape }}" + "\n";
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            msg = msg + "{{ error|escape }}" + "\n";
        {% endfor %}
    {% endif %}
    if(msg != "") {
        alert("Could not create account:\n\n" + msg);
    }
</script>
{% endblock %}